function uxRipple(event,element,options){if(!event&&!element){return;} var supported_transition=function(){if('transition'in document.body.style){return'transition';}else if('WebkitTransition'in document.body.style){return'WebkitTransition';}else if('MozTransition'in document.body.style){return'MozTransition';}else if('OTransition'in document.body.style){return'OTransition';} return null;}();if(!supported_transition){return;} if(event){if(event.$_vuejs_ux_ripple_ripple_caught===true){return;} event.$_vuejs_ux_ripple_ripple_caught=true;} element=element||event.currentTarget;var element_border_radius=window.getComputedStyle(element,null).borderRadius,ripple_container=document.createElement('DIV'),ripple=document.createElement('DIV'),starting_opacity='0.5',ending_scale='2',ripple_size,ripple_top,ripple_left;if(window.getComputedStyle(element,null).position==='static'){element.style.position='relative';} if(element.offsetWidth>element.offsetHeight){ripple_size=element.offsetWidth;}else{ripple_size=element.offsetHeight;} if(event&&(event.type==='click'||event.pageY||event.pageX)){ripple_top=event.pageY- ((window.scrollY?window.scrollY:window.pageYOffset)+ element.getBoundingClientRect().top)- (ripple_size/2);ripple_left=event.pageX- ((window.scrollX?window.scrollX:window.pageXOffset)+ element.getBoundingClientRect().left)- (ripple_size/2);}else{ripple_top=(element.offsetHeight/2)-(ripple_size/2);ripple_left=(element.offsetWidth/2)-(ripple_size/2);} if(options&&options.vigor&&!isNaN(options.vigor)){if(options.vigor>10){options.vigor=10;}else if(options.vigor<1){options.vigor=1;} options.vigor=Math.round(options.vigor);starting_opacity=options.vigor/10;if(options.vigor>5){ending_scale=2+(0.4*(options.vigor-5));}else if(options.vigor<5){ending_scale=2-(0.35*(5-options.vigor));} ending_scale=Math.round(ending_scale*10)/10;} function requestAnimationFrame($_function,timeout_as_alternate){if(window.requestAnimationFrame){window.requestAnimationFrame($_function);}else if(window.webkitRequestAnimationFrame){window.webkitRequestAnimationFrame($_function);}else if(window.mozRequestAnimationFrame){window.mozRequestAnimationFrame($_function);}else{if(timeout_as_alternate){setTimeout($_function,50);}else{$_function();}}};requestAnimationFrame(function(){ripple_container.style.position='absolute';ripple_container.style.top='0';ripple_container.style.left='0';ripple_container.style.height='100%';ripple_container.style.width='100%';ripple_container.style.pointerEvents='none';ripple_container.style.overflow='hidden';ripple_container.style.borderRadius=element_border_radius;ripple.style.position='absolute';ripple.style.top=ripple_top+'px';ripple.style.left=ripple_left+'px';ripple.style.width=ripple_size+'px';ripple.style.height=ripple_size+'px';ripple.style.borderRadius='50%';ripple.style.opacity=starting_opacity;if(options&&options.inverted){ripple.style.backgroundColor='#000';}else{ripple.style.backgroundColor='#fff';} ripple.style.pointerEvents='none';ripple.style.transform=ripple.style.WebkitTransform=ripple.style.MsTransform=ripple.style.MozTransform=ripple.style.OTransform='scale(0)';element.appendChild(ripple_container);ripple_container.appendChild(ripple);requestAnimationFrame(function(){ripple.style.opacity='0';ripple.style.transform=ripple.style.WebkitTransform=ripple.style.MsTransform=ripple.style.MozTransform=ripple.style.OTransform='scale('+ending_scale+')';ripple.style[supported_transition]='opacity 0.4s linear 0s, transform 0.4s linear 0s';ripple.addEventListener('transitionend',removeRipple,false);ripple.addEventListener('webkitTransitionEnd',removeRipple,false);function removeRipple(e){if(ripple_container.parentNode){ripple_container.parentNode.removeChild(ripple_container);}};},true);});};export default uxRipple;
